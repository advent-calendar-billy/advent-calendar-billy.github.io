<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fede - Character Preview</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Finger+Paint&family=Patrick+Hand&family=Permanent+Marker&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --paper: #f5f0e1;
            --ink: #333;
            --pencil: #666;
            --salmon: #fa8072;
            --salmon-dark: #e76f5a;
            --shirt: #4a90d9;
            --shirt-dark: #3a7bc8;
            --hair: #1a1a1a;
            --gold: #ffd700;
        }

        body {
            background: var(--paper);
            background-image:
                linear-gradient(rgba(0,0,0,0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0,0,0,0.03) 1px, transparent 1px);
            background-size: 25px 25px;
            font-family: 'Patrick Hand', cursive;
            color: var(--ink);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px;
        }

        h1 {
            font-family: 'Finger Paint', cursive;
            font-size: 3rem;
            color: var(--shirt-dark);
            text-shadow: 3px 3px 0 var(--paper), 4px 4px 0 var(--ink);
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--pencil);
            margin-bottom: 40px;
            font-style: italic;
        }

        .character-showcase {
            display: flex;
            gap: 40px;
            align-items: flex-start;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* ==================== DEMO ARENA ==================== */
        .demo-arena {
            background: var(--paper);
            border: 4px solid var(--ink);
            border-radius: 12px;
            box-shadow: 6px 6px 0 var(--shirt-dark);
            position: relative;
            width: 500px;
            height: 350px;
            overflow: hidden;
        }

        .demo-arena h2 {
            font-family: 'Finger Paint', cursive;
            color: var(--shirt-dark);
            text-align: center;
            padding: 10px;
            border-bottom: 2px solid var(--ink);
            background: rgba(255,255,255,0.5);
        }

        .arena-floor {
            position: absolute;
            bottom: 60px;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--ink);
        }

        .demo-buttons {
            position: absolute;
            bottom: 10px;
            left: 10px;
            right: 10px;
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .demo-btn {
            padding: 6px 12px;
            border: 2px solid var(--ink);
            border-radius: 6px;
            background: var(--paper);
            font-family: 'Patrick Hand', cursive;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.1s;
        }

        .demo-btn:hover {
            transform: translate(-2px, -2px);
            box-shadow: 3px 3px 0 var(--ink);
        }

        .demo-btn.split { border-color: #e74c3c; color: #e74c3c; }
        .demo-btn.salmon { border-color: var(--salmon); color: var(--salmon-dark); }
        .demo-btn.country { border-color: #3498db; color: #3498db; }
        .demo-btn.ultimate { border-color: var(--gold); color: #b8860b; background: rgba(255,215,0,0.1); }

        /* ==================== FEDE CHARACTER ==================== */
        .fighter {
            position: absolute;
            bottom: 68px;
            left: 80px;
            display: flex;
            flex-direction: column;
            align-items: center;
            transform-origin: bottom center;
        }

        .fede .head {
            width: 30px;
            height: 32px;
            border: 2px solid var(--ink);
            border-radius: 50%;
            background: var(--paper);
            position: relative;
            z-index: 10;
        }

        /* Simple short black hair - just on top */
        .fede .hair {
            position: absolute;
            top: -2px;
            left: 2px;
            width: 26px;
            height: 14px;
            border: 2px solid var(--ink);
            border-bottom: none;
            border-radius: 50% 50% 0 0;
            background: var(--hair);
            z-index: 15;
        }

        /* Eyes */
        .fede .eyes {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 6px;
            z-index: 16;
        }

        .fede .eye {
            width: 5px;
            height: 5px;
            background: var(--ink);
            border-radius: 50%;
            position: relative;
        }

        .fede .eye::before {
            content: '';
            position: absolute;
            top: 1px;
            left: 1px;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
        }

        /* Smile */
        .fede .mouth {
            position: absolute;
            bottom: 7px;
            left: 50%;
            transform: translateX(-50%);
            width: 8px;
            height: 4px;
            border: 2px solid var(--ink);
            border-top: none;
            border-radius: 0 0 50% 50%;
            z-index: 16;
        }

        /* Nice shirt */
        .fede .body {
            width: 28px;
            height: 30px;
            border: 2px solid var(--ink);
            border-radius: 3px 3px 0 0;
            background: var(--shirt);
            margin-top: -3px;
            position: relative;
            z-index: 8;
        }

        /* Shirt collar */
        .fede .collar-left,
        .fede .collar-right {
            position: absolute;
            top: 0;
            width: 8px;
            height: 10px;
            background: var(--shirt);
            border: 2px solid var(--ink);
            z-index: 9;
        }

        .fede .collar-left {
            left: 2px;
            border-radius: 0 0 0 50%;
            border-right: none;
            transform: rotate(-15deg);
            transform-origin: top right;
        }

        .fede .collar-right {
            right: 2px;
            border-radius: 0 0 50% 0;
            border-left: none;
            transform: rotate(15deg);
            transform-origin: top left;
        }

        /* Buttons */
        .fede .buttons {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            gap: 5px;
            z-index: 10;
        }

        .fede .button {
            width: 4px;
            height: 4px;
            background: #ddd;
            border: 1px solid var(--ink);
            border-radius: 50%;
        }

        .fede .arm {
            position: absolute;
            width: 7px;
            height: 22px;
            border: 2px solid var(--ink);
            border-radius: 4px;
            background: var(--shirt);
            top: 3px;
            transform-origin: top center;
            z-index: 6;
        }

        .fede .arm.left { left: -5px; }
        .fede .arm.right { right: -5px; }

        /* Pants */
        .fede .legs {
            display: flex;
            gap: 4px;
            margin-top: -2px;
            z-index: 4;
        }

        .fede .leg {
            width: 10px;
            height: 35px;
            border: 2px solid var(--ink);
            border-radius: 3px;
            background: #2c3e50;
            transform-origin: top center;
            transition: transform 0.3s;
        }

        /* Shoes */
        .fede .feet {
            display: flex;
            gap: 4px;
            margin-top: -2px;
            z-index: 3;
        }

        .fede .foot {
            width: 12px;
            height: 5px;
            border: 2px solid var(--ink);
            border-radius: 3px 5px 3px 3px;
            background: #1a1a1a;
        }

        /* Split animation - whole body drops down */
        .fede.split {
            transform: translateY(30px);
            transition: transform 0.15s ease-out;
        }

        .fede.split .legs {
            gap: 30px;
        }

        .fede.split .leg.left {
            transform: rotate(-90deg) translateY(-5px);
            height: 25px;
        }
        .fede.split .leg.right {
            transform: rotate(90deg) translateY(-5px);
            height: 25px;
        }

        .fede.split .feet {
            gap: 50px;
        }

        .fede.split .foot {
            transform: rotate(0deg);
        }

        /* ==================== DUMMY TARGET ==================== */
        .dummy {
            position: absolute;
            bottom: 68px;
            right: 100px;
            width: 40px;
            height: 80px;
            border: 3px solid var(--ink);
            border-radius: 8px;
            background: #ddd;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .dummy::before {
            content: 'TARGET';
            font-size: 0.5rem;
            color: var(--ink);
        }

        .dummy.hit {
            animation: shake 0.3s;
            background: #ffcccc;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        /* ==================== PROJECTILES ==================== */
        .projectile {
            position: absolute;
            z-index: 100;
        }

        .sashimi {
            width: 32px;
            height: 14px;
            background: linear-gradient(
                170deg,
                #ff8c7a 0%,
                #fa8072 20%,
                #ffb4a8 22%,
                #fa8072 24%,
                #ff8c7a 40%,
                #ffb4a8 42%,
                #fa8072 44%,
                #e76f5a 60%,
                #ffb4a8 62%,
                #fa8072 64%,
                #ff8c7a 80%,
                #ffb4a8 82%,
                #e76f5a 100%
            );
            border: 2px solid #d85a4a;
            border-radius: 4px 12px 12px 4px;
            position: relative;
            box-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        /* Shiny top edge */
        .sashimi::before {
            content: '';
            position: absolute;
            top: 1px;
            left: 3px;
            right: 8px;
            height: 3px;
            background: linear-gradient(90deg, rgba(255,255,255,0.5), rgba(255,255,255,0.2));
            border-radius: 2px;
        }

        /* Fat marbling lines */
        .sashimi::after {
            content: '';
            position: absolute;
            top: 3px;
            left: 5px;
            width: 20px;
            height: 8px;
            background: repeating-linear-gradient(
                160deg,
                transparent 0px,
                transparent 3px,
                rgba(255,255,255,0.4) 3px,
                rgba(255,255,255,0.4) 4px
            );
        }

        .impact-text {
            position: absolute;
            font-family: 'Permanent Marker', cursive;
            font-size: 1.5rem;
            text-shadow: 2px 2px 0 var(--paper);
            pointer-events: none;
            z-index: 200;
        }

        /* ==================== COUNTRY SHAPES ==================== */
        .country-sprite {
            position: absolute;
            z-index: 100;
        }

        .country-sprite svg {
            width: 40px;
            height: 40px;
            filter: drop-shadow(2px 2px 0 var(--ink));
        }

        /* ==================== MOVE LIST ==================== */
        .moves-panel {
            background: var(--paper);
            border: 4px solid var(--ink);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 6px 6px 0 var(--salmon);
            max-width: 350px;
        }

        .moves-panel h2 {
            font-family: 'Finger Paint', cursive;
            color: var(--shirt-dark);
            margin-bottom: 12px;
            border-bottom: 2px solid var(--ink);
            padding-bottom: 8px;
            font-size: 1.3rem;
        }

        .move {
            margin: 10px 0;
            padding: 8px;
            border-left: 3px solid #e74c3c;
            background: rgba(255,255,255,0.5);
            font-size: 0.9rem;
        }

        .move.salmon-move {
            border-left-color: var(--salmon);
        }

        .move.country-move {
            border-left-color: #3498db;
        }

        .move-name {
            font-family: 'Permanent Marker', cursive;
            color: var(--ink);
            display: block;
            margin-bottom: 3px;
            font-size: 0.95rem;
        }

        .move.salmon-move .move-name {
            color: var(--salmon-dark);
        }

        .move.country-move .move-name {
            color: #3498db;
        }

        .move-combo {
            font-family: monospace;
            background: var(--ink);
            color: var(--paper);
            padding: 2px 6px;
            border-radius: 4px;
            display: inline-block;
            margin-right: 8px;
            font-size: 0.8rem;
        }

        .move-desc {
            font-size: 0.8rem;
            color: var(--pencil);
            margin-top: 4px;
        }

        .energy-cost {
            display: inline-block;
            background: var(--gold);
            color: var(--ink);
            padding: 1px 6px;
            border-radius: 3px;
            font-size: 0.7rem;
            font-weight: bold;
            margin-left: 5px;
        }

        .ultimate {
            border-left-color: var(--gold);
            background: linear-gradient(90deg, rgba(255,215,0,0.1), transparent);
        }

        .ultimate .move-name {
            color: #b8860b;
        }

        .section-label {
            font-family: 'Finger Paint', cursive;
            font-size: 0.8rem;
            color: var(--pencil);
            margin-top: 15px;
            margin-bottom: 5px;
            padding-left: 5px;
            border-bottom: 1px dashed var(--pencil);
            padding-bottom: 3px;
        }

        .country-list {
            font-size: 0.7rem;
            color: var(--pencil);
            margin-top: 5px;
            font-style: italic;
        }

        /* Bio section */
        .bio {
            max-width: 500px;
            text-align: center;
            margin-top: 30px;
            padding: 15px;
            border: 3px solid var(--ink);
            border-radius: 12px;
            background: rgba(255,255,255,0.5);
        }

        .bio-quote {
            font-style: italic;
            font-size: 1rem;
            color: var(--pencil);
        }
    </style>
</head>
<body>
    <h1>FEDE</h1>
    <p class="subtitle">The Globetrotting Gentleman</p>

    <div class="character-showcase">
        <!-- Demo Arena -->
        <div class="demo-arena" id="arena">
            <h2>Move Preview</h2>
            <div class="arena-floor"></div>

            <div class="fighter fede" id="fede">
                <div class="head">
                    <div class="hair"></div>
                    <div class="eyes">
                        <div class="eye"></div>
                        <div class="eye"></div>
                    </div>
                    <div class="mouth"></div>
                </div>
                <div class="body">
                    <div class="collar-left"></div>
                    <div class="collar-right"></div>
                    <div class="buttons">
                        <div class="button"></div>
                        <div class="button"></div>
                        <div class="button"></div>
                    </div>
                    <div class="arm left"></div>
                    <div class="arm right"></div>
                </div>
                <div class="legs">
                    <div class="leg left"></div>
                    <div class="leg right"></div>
                </div>
                <div class="feet">
                    <div class="foot"></div>
                    <div class="foot"></div>
                </div>
            </div>

            <div class="dummy" id="dummy"></div>

            <div class="demo-buttons">
                <button class="demo-btn split" onclick="playSplit()">The Split</button>
                <button class="demo-btn salmon" onclick="playSalmonSashimi()">Salmon Sashimi</button>
                <button class="demo-btn country" onclick="playCountryThrow()">Country Throw</button>
                <button class="demo-btn ultimate" onclick="playWorldTour()">WORLD TOUR!</button>
            </div>
        </div>

        <!-- Move List -->
        <div class="moves-panel">
            <h2>Special Moves</h2>

            <div class="section-label">Signature Moves</div>

            <div class="move">
                <span class="move-name">The Split</span>
                <span class="move-combo">↓ ↓ X</span>
                <span>25 dmg</span>
                <p class="move-desc">Drops into a perfect split, devastating anyone nearby with those powerful legs.</p>
            </div>

            <div class="move salmon-move">
                <span class="move-name">Salmon Sashimi</span>
                <span class="move-combo">→ → Z</span>
                <span>5x4 dmg</span>
                <p class="move-desc">Throws 5 pieces of fresh salmon sashimi in rapid succession.</p>
            </div>

            <div class="move country-move">
                <span class="move-name">Country Throw</span>
                <span class="move-combo">↓ ← Z</span>
                <span>18 dmg</span>
                <p class="move-desc">Hurls a random country from his travels at the opponent!</p>
                <p class="country-list">Countries: Spain, Argentina, Germany, USA, Japan, Norway, Iceland, UK, Italy, France, Greece, Switzerland</p>
            </div>

            <div class="section-label">Ultimate</div>

            <div class="move ultimate">
                <span class="move-name">WORLD TOUR!</span>
                <span class="move-combo">↓ → ↓ → Z</span>
                <span>55 dmg</span>
                <span class="energy-cost">100 ENERGY</span>
                <p class="move-desc">Unleashes ALL countries at once in a devastating globe-spanning combo!</p>
            </div>
        </div>
    </div>

    <div class="bio">
        <p class="bio-quote">"I've been everywhere, and I brought souvenirs. Heavy ones."</p>
    </div>

    <script>
        const arena = document.getElementById('arena');
        const fede = document.getElementById('fede');
        const dummy = document.getElementById('dummy');
        let isAnimating = false;

        // Country SVG paths - recognizable country shapes
        const countries = [
            {
                name: 'Spain',
                color: '#c60b1e',
                // Square-ish with Portugal indent on left, Gibraltar bump at bottom
                path: 'M8,8 L12,5 L30,5 L35,8 L36,12 L35,18 L32,22 L35,28 L30,32 L22,35 L18,32 L12,30 L8,25 L5,18 L5,12 Z'
            },
            {
                name: 'Argentina',
                color: '#74acdf',
                // Long thin country, wider at top, pointy at bottom (Tierra del Fuego)
                path: 'M12,3 L25,3 L28,8 L26,15 L24,22 L22,28 L20,33 L18,36 L16,38 L18,35 L15,30 L14,24 L12,18 L10,12 L11,6 Z'
            },
            {
                name: 'Germany',
                color: '#ffcc00',
                // Roughly like a vertical shield, wider at top
                path: 'M15,5 L25,3 L32,8 L35,15 L33,22 L30,28 L25,32 L20,35 L15,32 L10,28 L7,22 L5,15 L8,8 Z'
            },
            {
                name: 'USA',
                color: '#3c3b6e',
                // Wide horizontal shape (continental US)
                path: 'M2,15 L5,12 L10,10 L18,8 L28,8 L35,10 L38,14 L36,18 L32,20 L25,22 L18,23 L10,22 L5,20 L2,18 Z'
            },
            {
                name: 'Japan',
                color: '#bc002d',
                // Island arc - Honshu main island with smaller islands
                path: 'M25,5 L28,8 L30,14 L28,20 L25,24 L22,28 L18,32 L15,35 L12,33 L14,28 L16,24 L18,20 L20,15 L22,10 L24,6 Z M30,25 L33,28 L32,32 L29,30 Z'
            },
            {
                name: 'Norway',
                color: '#ba0c2f',
                // Long and thin, running north-south with jagged fjord coast
                path: 'M15,2 L18,5 L20,10 L22,8 L24,12 L22,18 L20,15 L18,20 L16,25 L14,30 L12,35 L10,38 L8,35 L10,28 L12,22 L14,15 L13,10 L14,5 Z'
            },
            {
                name: 'Iceland',
                color: '#003897',
                // Blobby island with fjords on northwest
                path: 'M10,15 L8,12 L10,8 L15,6 L22,5 L28,7 L32,12 L34,18 L32,24 L28,28 L22,30 L15,28 L10,24 L8,20 Z'
            },
            {
                name: 'UK',
                color: '#012169',
                // Great Britain - Scotland at top, England/Wales below
                path: 'M18,3 L22,5 L24,8 L22,12 L20,10 L18,14 L20,18 L22,22 L24,28 L22,32 L18,35 L15,33 L12,30 L14,26 L12,22 L10,18 L12,14 L14,10 L16,6 Z'
            },
            {
                name: 'Italy',
                color: '#008c45',
                // The boot! With heel and toe
                path: 'M15,3 L22,5 L25,10 L24,15 L22,20 L20,25 L22,28 L25,30 L23,33 L20,35 L17,38 L15,36 L18,32 L16,28 L14,24 L12,18 L13,12 L14,6 Z'
            },
            {
                name: 'France',
                color: '#002395',
                // Hexagonal shape (l'Hexagone)
                path: 'M12,8 L20,4 L30,6 L35,14 L34,24 L28,32 L20,35 L12,32 L6,24 L5,14 Z'
            },
            {
                name: 'Greece',
                color: '#0d5eaf',
                // Mainland with Peloponnese peninsula dangling
                path: 'M10,8 L18,5 L28,8 L32,14 L30,20 L26,24 L28,28 L25,32 L20,35 L16,32 L18,28 L15,24 L12,28 L8,25 L6,18 L8,12 Z'
            },
            {
                name: 'Switzerland',
                color: '#ff0000',
                // Small, compact, roughly rectangular with bumpy edges (mountains)
                path: 'M10,12 L15,8 L22,8 L28,10 L32,15 L30,22 L28,28 L22,30 L15,30 L10,26 L8,20 L8,15 Z'
            }
        ];

        function createCountrySVG(country, size = 40) {
            const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
            svg.setAttribute('viewBox', '0 0 40 40');
            svg.setAttribute('width', size);
            svg.setAttribute('height', size);

            const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            path.setAttribute('d', country.path);
            path.setAttribute('fill', country.color);
            path.setAttribute('stroke', '#333');
            path.setAttribute('stroke-width', '2');

            svg.appendChild(path);
            return svg;
        }

        function showImpact(text, x, y, color = '#e74c3c') {
            const impact = document.createElement('div');
            impact.className = 'impact-text';
            impact.textContent = text;
            impact.style.left = x + 'px';
            impact.style.top = y + 'px';
            impact.style.color = color;
            arena.appendChild(impact);

            let opacity = 1;
            let offsetY = 0;
            const fade = setInterval(() => {
                opacity -= 0.05;
                offsetY -= 2;
                impact.style.opacity = opacity;
                impact.style.top = (y + offsetY) + 'px';
                if (opacity <= 0) {
                    clearInterval(fade);
                    impact.remove();
                }
            }, 30);
        }

        function hitDummy() {
            dummy.classList.add('hit');
            setTimeout(() => dummy.classList.remove('hit'), 300);
        }

        function playSplit() {
            if (isAnimating) return;
            isAnimating = true;

            const fedeX = fede.offsetLeft;

            // Just do the split in place
            fede.classList.add('split');

            setTimeout(() => {
                showImpact('SPLIT!', fedeX + 10, 120, '#e74c3c');
                showImpact('-25', fedeX + 40, 150, '#ff0000');

                // Shockwave from the split
                const wave = document.createElement('div');
                wave.style.cssText = `
                    position: absolute;
                    left: ${fedeX - 20}px;
                    bottom: 60px;
                    width: 80px;
                    height: 10px;
                    background: radial-gradient(ellipse, rgba(200,0,0,0.4) 0%, transparent 70%);
                    z-index: 50;
                `;
                arena.appendChild(wave);
                setTimeout(() => wave.remove(), 300);

                // Hit if dummy is close enough
                const dummyRect = dummy.getBoundingClientRect();
                const arenaRect = arena.getBoundingClientRect();
                const dummyX = dummyRect.left - arenaRect.left;
                if (Math.abs(dummyX - fedeX) < 150) {
                    hitDummy();
                }
            }, 200);

            setTimeout(() => {
                fede.classList.remove('split');
                isAnimating = false;
            }, 700);
        }

        function playSalmonSashimi() {
            if (isAnimating) return;
            isAnimating = true;

            const startX = 110;
            const dummyRect = dummy.getBoundingClientRect();
            const arenaRect = arena.getBoundingClientRect();
            const targetX = dummyRect.left - arenaRect.left;

            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const sashimi = document.createElement('div');
                    sashimi.className = 'projectile sashimi';
                    sashimi.style.left = startX + 'px';
                    sashimi.style.bottom = (110 + (i - 2) * 12) + 'px';
                    arena.appendChild(sashimi);

                    let progress = 0;
                    const fly = setInterval(() => {
                        progress += 0.08;
                        const x = startX + (targetX - startX) * progress;
                        const wobble = Math.sin(progress * Math.PI * 4) * 5;
                        sashimi.style.left = x + 'px';
                        sashimi.style.bottom = (110 + (i - 2) * 12 + wobble) + 'px';
                        sashimi.style.transform = `rotate(${progress * 180}deg)`;

                        if (progress >= 1) {
                            clearInterval(fly);
                            hitDummy();
                            if (i === 2) {
                                showImpact('OISHI!', targetX, 100, 'var(--salmon-dark)');
                            }
                            const splat = document.createElement('div');
                            splat.textContent = '~';
                            splat.style.cssText = `
                                position: absolute;
                                left: ${targetX + 15}px;
                                bottom: ${110 + (i - 2) * 12}px;
                                color: var(--salmon);
                                font-size: 1.5rem;
                                z-index: 100;
                            `;
                            arena.appendChild(splat);
                            setTimeout(() => splat.remove(), 200);
                            sashimi.remove();
                        }
                    }, 20);
                }, i * 80);
            }

            setTimeout(() => { isAnimating = false; }, 700);
        }

        function playCountryThrow() {
            if (isAnimating) return;
            isAnimating = true;

            const country = countries[Math.floor(Math.random() * countries.length)];
            const startX = 110;
            const dummyRect = dummy.getBoundingClientRect();
            const arenaRect = arena.getBoundingClientRect();
            const targetX = dummyRect.left - arenaRect.left;

            const countryEl = document.createElement('div');
            countryEl.className = 'projectile country-sprite';
            countryEl.appendChild(createCountrySVG(country, 45));
            countryEl.style.left = startX + 'px';
            countryEl.style.bottom = '120px';
            arena.appendChild(countryEl);

            showImpact(country.name + '!', startX + 40, 80, country.color);

            let progress = 0;
            const fly = setInterval(() => {
                progress += 0.05;
                const x = startX + (targetX - startX) * progress;
                const arc = Math.sin(progress * Math.PI) * 40;
                countryEl.style.left = x + 'px';
                countryEl.style.bottom = (120 + arc) + 'px';
                countryEl.style.transform = `rotate(${progress * 360}deg) scale(${1 + progress * 0.3})`;

                if (progress >= 1) {
                    clearInterval(fly);
                    hitDummy();
                    showImpact('BONK!', targetX, 120, country.color);

                    countryEl.style.transform = 'scale(1.5)';
                    countryEl.style.opacity = '0';
                    countryEl.style.transition = 'all 0.2s';
                    setTimeout(() => countryEl.remove(), 200);

                    isAnimating = false;
                }
            }, 25);
        }

        function playWorldTour() {
            if (isAnimating) return;
            isAnimating = true;

            const startX = 110;
            const dummyRect = dummy.getBoundingClientRect();
            const arenaRect = arena.getBoundingClientRect();
            const targetX = dummyRect.left - arenaRect.left;

            showImpact('WORLD TOUR!', 180, 50, 'var(--gold)');

            countries.forEach((country, i) => {
                setTimeout(() => {
                    const countryEl = document.createElement('div');
                    countryEl.className = 'projectile country-sprite';
                    countryEl.appendChild(createCountrySVG(country, 30));
                    countryEl.style.left = startX + 'px';
                    countryEl.style.bottom = (90 + (i % 4) * 18) + 'px';
                    arena.appendChild(countryEl);

                    let progress = 0;
                    const fly = setInterval(() => {
                        progress += 0.08;
                        const x = startX + (targetX - startX) * progress;
                        const arc = Math.sin(progress * Math.PI) * (15 + (i % 3) * 12);
                        countryEl.style.left = x + 'px';
                        countryEl.style.bottom = (90 + (i % 4) * 18 + arc) + 'px';
                        countryEl.style.transform = `rotate(${progress * 540}deg)`;

                        if (progress >= 1) {
                            clearInterval(fly);
                            if (i % 3 === 0) hitDummy();

                            countryEl.style.opacity = '0';
                            countryEl.style.transition = 'opacity 0.15s';
                            setTimeout(() => countryEl.remove(), 150);
                        }
                    }, 20);
                }, i * 50);
            });

            setTimeout(() => {
                hitDummy();
                showImpact('GLOBETROTTER!', targetX - 30, 80, 'var(--gold)');

                for (let i = 0; i < 6; i++) {
                    const burst = document.createElement('div');
                    burst.className = 'projectile country-sprite';
                    burst.appendChild(createCountrySVG(countries[i], 20));
                    burst.style.left = (targetX + 10) + 'px';
                    burst.style.bottom = '120px';
                    arena.appendChild(burst);

                    const angle = (i / 6) * Math.PI * 2;
                    const speed = 4;
                    let bx = 0, by = 0, bo = 1;
                    const burstFly = setInterval(() => {
                        bx += Math.cos(angle) * speed;
                        by += Math.sin(angle) * speed;
                        bo -= 0.05;
                        burst.style.transform = `translate(${bx}px, ${-by}px) rotate(${bx * 5}deg)`;
                        burst.style.opacity = bo;
                        if (bo <= 0) {
                            clearInterval(burstFly);
                            burst.remove();
                        }
                    }, 25);
                }

                isAnimating = false;
            }, countries.length * 50 + 300);
        }
    </script>
</body>
</html>
